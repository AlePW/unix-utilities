#!/usr/bin/env ruby

if RUBY_PLATFORM =~ /linux/ then
  open_bin = 'xdg-open'
elsif RUBY_PLATFORM =~ /darwin/ then
  open_bin = 'open'
end


if ARGV.empty?
  STDIN.each{|line|
    system open_bin, line.strip
  }
elsif false # overkill?
  ARGV.each{|fn|
    File.open(fn).each{|line|
      line.strip!
      system open_bin, line if line =~ /\S/
    }
  }
else
  ARGV.each{|fn| system open_bin, fn}
end
